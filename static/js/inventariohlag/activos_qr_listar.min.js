function updateState(){const t=$(".chk").length,e=$(".chk:checked").length;$("#selectedCount").text(e+" Selected"),$("#printBtn").prop("disabled",0===e),$("#selectAll").prop("checked",e===t),$("#selectAll").prop("indeterminate",e>0&&e<t)}$(document).ready(function(){$(document).on("change",".chk",updateState),$("#selectAll").on("change",function(){$(".chk").prop("checked",this.checked),updateState()}),$("#printBtn").on("click",function(){const t=$(".chk:checked").closest(".qr-card");if(0===t.length)return;const e=window.open("","_blank"),n="\n      <!doctype html><html><head><meta charset='utf-8'>\n      <title>QR Codes Print</title>\n      <style>\n        @page { size: A4; margin: 10mm; }\n        body{font-family:Arial,Helvetica,sans-serif;padding:10px}\n        .page{display:grid;grid-template-columns:repeat(3,1fr);gap:10mm;justify-items:center}\n        .card{\n          width:6cm; height:6cm; \n          text-align:center; border:1px solid #ddd;\n          border-radius:6px; padding:6px;\n          display:flex; flex-direction:column;\n          justify-content:center; align-items:center;\n        }\n        img{width:4cm;height:4cm;object-fit:contain}\n        .info{font-size:10pt;line-height:1.2;text-align:left;width:100%;margin-top:4px}\n        .info strong{font-size:10pt}\n      </style>\n      </head><body>",i="</body></html>";let c="";t.each(function(){const t=$(this).find("img").attr("src"),e=$(this).find(".qr-label").text();c+=`\n        <div class='card'>\n          <img src='${t}' alt='${e}'>\n        </div>`}),e.document.write(n+'<div class="page">'+c+"</div>"+i),e.document.close(),e.focus(),setTimeout(()=>{e.print(),e.close()},400)}),updateState(),$("#newFilter").on("click",function(t){t.preventDefault(),window.location.href="/qr_filtrar"})});