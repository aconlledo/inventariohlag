function PrepararRegistro(a){$("#id").val(allTrim($("#id"+a).html())),$("#areaname").val($("#nom"+a).val()),$("#pais").val($("#pai"+a).val())}function EditarRegistro(a){CampoEnabled("areaname"),CampoEnabled("pais"),PrepararRegistro(a),$("#diagedit").dialog({title:"Edit Area",buttons:[{text:"Save",click:function(){EnviaPeticionAjax(EDITAR_REG,a),$(this).dialog("close")},class:"ui-corner-all",style:"color:Green"},{text:"Exit",click:function(){$(this).dialog("close")},class:"ui-corner-all",style:"color:Black"}]}),$("#diagedit").dialog("open")}function AgregarRegistro(){CampoEnabled("areaname"),CampoEnabled("pais"),$("#id").val(""),$("#diagedit").dialog({title:"Add Area",buttons:[{text:"Save",click:function(){EnviaPeticionAjax(AGREGAR_REG,0),$(this).dialog("close")},class:"ui-corner-all",style:"color:Green"},{text:"Exit",click:function(){$(this).dialog("close")},class:"ui-corner-all",style:"color:Black"}]}),$("#diagedit").dialog("open")}function BorrarRegistro(a){CampoDisabled("areaname"),CampoDisabled("pais"),PrepararRegistro(a),$("#diagedit").dialog({title:"Delete Area",buttons:[{text:"Delete",click:function(){$(this).dialog("close"),confirmarMensaje("The Area/Country will be removed from the Database.",EnviaPeticionAjax,ELIMINAR_REG,a)},class:"ui-corner-all",style:"color:Red"},{text:"Exit",click:function(){$(this).dialog("close")},class:"ui-corner-all",style:"color:Green"}]}),$("#diagedit").dialog("open")}function EnviaPeticionAjax(a,e){var i=$("#areaname option:selected").val(),t=$("#pais option:selected").val();try{$.ajax({async:!1,type:"POST",dataType:"html",url:"/areas_listar/",data:{accion:a,id:e,pais:t,areaname:i,csrfmiddlewaretoken:$("input[name=csrfmiddlewaretoken]").val()},success:function(a){""!=a?($("#datatablediv").html(""),$("#datatablediv").html(a),Crear_DataTable(),mostrarMensaje("Change made successfully",MSG_SUCCESS)):mostrarMensaje("UNKNOWN ERROR<br />Change NOT made",MSG_WARNING)}})}catch(a){MensajeErrorDesconocido(a)}}function Crear_DataTable(){$("#tablaregs").DataTable({destroy:!0,paging:!0,pagingType:"full_numbers",bJQueryUI:!0,iDisplayLength:25,order:[[1,"asc"]],columnDefs:[{orderable:!1,targets:[3]},{searchable:!1,targets:[0,3]}]}),$(".tip").tooltip()}$(document).ready(function(){$("#diagedit").dialog({autoOpen:!1,position:{my:"center",at:"center",of:window},height:380,width:500,resizable:!1,modal:!0,show:{effect:"blind",duration:1e3},hide:{effect:"explode",duration:1e3},open:function(){$("#areaname").focus()},close:function(){$("#id").val("")}}),CampoEnReadOnly("id"),Crear_DataTable()});